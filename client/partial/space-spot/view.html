<!-- 编辑活动内容页面 -->
<div class="container" id="content">
  <form name="entityForm" ng-submit="save()">
    <div>
      <md-input-container layout="row" class="btn-float-right">
        <md-button class="md-raised md-primary" ng-disabled="entityForm.$invalid">保存</md-button>
        <md-button class="md-raised md-warn" ng-click="cancel()">取消</md-button>
      </md-input-container>
    </div>
    <div class="row">
      <div class="col-md-7">
        <input type="hidden" ng-model="entity.id" />
        <md-input-container>
          <md-select name="group" required ng-model="entity.type_id" placeholder="选择分类">
            <md-option ng-value="opt.id" ng-repeat="opt in typeList">{{ opt.name }}</md-option>
          </md-select>
          <div ng-messages="entityForm.group.$error">
            <div ng-message="required">必填项目</div>
          </div>
        </md-input-container>
        <div layout="row">
          <md-input-container flex="">
            <label>场地名称</label>
            <input name="name" type="text" md-maxlength="30" required minlength="5" ng-model="entity.name">
            <div ng-messages="entityForm.name.$error">
              <div ng-message="required">必填项目</div>
              <div ng-message="minlength">场地名称不能少于5个字符</div>
              <div ng-message="md-maxlength">场地名称不能超过30个字符</div>
            </div>
          </md-input-container>
        </div>

        <md-input-container flex="100">
          <label>到达路线</label>
          <textarea ng-model="entity.router"></textarea>
        </md-input-container>
        <div layout="row">
          <div ng-file-select="onPicSelect($files)" data-multiple="false" title="select file" onclick="this.value = null" class="btn btn-upload">
            <md-button class="md-raised md-info">地图图片</md-button>
          </div>
          <p>
            {{ selectPic.progress.p }}%
          </p>
          <img class="activity-photo" ng-src="{{map_pic}}">

          <div ng-file-select="onImageSelect($files)" data-multiple="false" title="select file" onclick="this.value = null" class="btn btn-upload">
            <md-button class="md-raised md-info">图片</md-button>
          </div>
          <p>
            {{ selectImage.progress.p }}%
          </p>
          <img class="activity-photo" ng-src="{{image}}">
        </div>
        <div layout="row">
          <md-input-container>
            <label>地区(商圈)</label>
            <input type="text" name="area" ng-model="entity.area" md-maxlength="6" />
            <div ng-messages="entityForm.area.$error">
              <div ng-message="md-maxlength">地区文字不能超过6个字符</div>
            </div>
          </md-input-container>
          <md-input-container flex="">
            <label>详细地址</label>
            <textarea name="address" ng-model="entity.address" md-maxlength="60"></textarea>
            <div ng-messages="entityForm.address.$error">
              <div ng-message="md-maxlength">详细地址文字不能超过60个字符</div>
            </div>
          </md-input-container>
        </div>
        <md-input-container>
          <label>开放时间</label>
          <input type="text" name="open_time" ng-model="entity.open_time" value="{{entity.open_time}}" min="0" />
          <div ng-messages="entityForm.open_time.$error">
            <div ng-message="min">什么时候可用</div>
          </div>
        </md-input-container>
        <md-input-container flex="100">
          <label>联系方式</label>
          <textarea ng-model="entity.contact"></textarea>
        </md-input-container>
        <md-input-container>
          <label>最低消费</label>
          <textarea ng-model="entity.base_fee"></textarea>
        </md-input-container>
        <md-input-container>
          <label>活动详情</label>
          <text-angular ng-model="entity.detail"></text-angular>
        </md-input-container>
        <md-input-container layout="row" class="btn-float-right">
          <md-button class="md-raised md-primary" ng-disabled="entityForm.$invalid">保存</md-button>
          <md-button class="md-raised md-warn" ng-click="cancel()">取消</md-button>
        </md-input-container>
      </div>
    </div>
  </form>
</div>
